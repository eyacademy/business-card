# Визитки коллег — мини‑сайт

Готовая страница со списком коллег, поиском и отдельной страницей визитки с QR‑кодом и кнопкой «Скачать визитку (.vcf)».

## Как запустить

1) Откройте файл `index.html` двойным кликом — откроется в браузере.
2) Ничего ставить и запускать не нужно (это статическая страница). По желанию можно открыть через любой статический сервер.

## Где лежат файлы

- `index.html` — список карточек и поиск
- `card.html` — страница одной визитки (QR + кнопка скачивания снизу)
- `assets/styles.css` — стили и тема
- `assets/app.js` — список, поиск, переход на визитку
- `assets/card.js` — логика страницы визитки (QR + .vcf)
- `assets/colleagues.json` — данные коллег
- `assets/avatars/` — локальные фото коллег (подставляются из JSON)

## Как изменить список коллег

Отредактируйте `assets/colleagues.json` и измените/добавьте записи. Для аватарок кладите изображения в `assets/avatars/` и указывайте относительный путь в поле `avatar`:

```js
[
  {
    "id": "ivanov",            // уникальный id (a-z, 0-9, дефис/нижнее подчёркивание)
    "name": "Иван Иванов",     // имя и фамилия
    "position": "Менеджер",    // должность
    "department": "Отдел продаж",
    "phone": "+7 (999) 111-22-33",
    "email": "ivanov@example.com",
    "address": "Москва, ул. Пушкина, 10",
    "company": "ООО \"Компания\"",
    "website": "https://example.com",
    "avatar": "assets/avatars/ivanov.jpg" // локальный путь или url
  }
- Если файл аватара не найден или не указан — автоматически подставится `assets/avatars/default.svg`.
]
```

- Поля опциональны: если чего-то нет, в карточке/визитке это просто не покажется.
- Номер телефона можно писать в любом формате — при генерации .vcf и QR скобки/пробелы/дефисы будут убраны автоматически.

## Как это работает

- Поиск: фильтрует по имени, должности, отделу, email и телефону.
- Открытие карточки: переходом на `card.html?id=<id>`.
- QR‑код на странице визитки: содержит контакт в формате vCard 3.0 (поддерживается iOS/Android). Сканируете — появляется добавление контакта.
 - Кнопка «Скачать визитку (.vcf)» на странице визитки: сохранит файл `Имя_Фамилия.vcf`.

## Встраивание в Tilda

Вариант 1: вставка как «Zero Block/HTML» (статично)
- На странице в Tilda добавьте блок «HTML».
- Вставьте содержимое `index.html` (без тега `<html>` и `<body>`) в блок, подключите стили и скрипты:
  - Содержимое `assets/styles.css` оберните в `<style>...</style>`
  - Содержимое `assets/app.js` оберните в `<script>...</script>`
  - Для страницы визитки (детальной) создайте отдельную страницу в Tilda и аналогично вставьте из `card.html` + `assets/card.js`.

Вариант 2: раздача как статика (проще)
- Залейте папку проекта на любой хостинг (можно GitHub Pages, Cloudflare Pages).
- В Tilda используйте блок «Frame/iframe» и укажите ссылку на ваш `index.html`.
- Переход на `card.html?id=...` будет работать в том же хостинге.

## Бэкенд на Render (опционально)

Чтобы не редактировать файлы вручную, можно сделать простой API:
- Завести на Render бесплатный веб‑сервис (Node/Express или Python/FastAPI).
- Роуты:
  - `GET /api/colleagues` — список коллег (то, что сейчас в `colleagues.json`).
  - `GET /api/colleagues/:id` — одна визитка.
- На фронте заменить `fetch('assets/colleagues.json')` на `fetch('https://<ваш-сервис>.onrender.com/api/colleagues')` и для карточки — `.../colleagues/<id>`.

Плюсы:
- Данные можно править из админки/таблицы (например, Render + Supabase/Airtable/Google Sheets через небольшой бэкенд‑прокси).
- Не нужно пересобирать/перезаливать сайт при каждом изменении.

## Идеи дизайна визитки (что отразить)

Минимум:
- Имя и фамилия
- Должность
- Компания (логотип по желанию)
- Телефон и Email
- QR‑код с контактами (ведёт к vCard — удобно для быстрого добавления)

Расширенный вариант:
- Отдел/направление
- Адрес офиса (если актуально)
- Сайт/соцсети (LinkedIn/Telegram и т. п.)
- Фото/аватар (делает карточку «живой»)

Советы по стилю:
- Контрастный заголовок (имя) и более спокойная «подпись» (должность/отдел)
- Единые отступы и сетка: 12‑колоночная сетка уже настроена
- Цветовая тема: сейчас тёмная; можно быстро переключить, изменив переменные в `:root` в `assets/styles.css`
- Аватар 56×56 с лёгкими скруглениями — этого достаточно для узнаваемости

## Как поменять тему/цвета

В `assets/styles.css` отредактируйте переменные в `:root`. Уже выставлены фирменные цвета EY:

```css
:root {
  --bg: #2E2E38;       /* тёмный фон */
  --card: #282833;     /* фон карточек */
  --muted: #BFC3CC;    /* вторичный текст */
  --text: #F5F6F8;     /* основной текст */
  --primary: #188CE5;  /* акцент синий */
  --accent: #FFE600;   /* акцент жёлтый */
  --border: #3A3A46;   /* границы */
}
```

## Подключение фирменного шрифта EY

Файлы шрифта положите в папку `fonts` (уже добавлены):

- `EYINTERSTATE-*.OTF`

Подключение сделано в `assets/styles.css` через `@font-face` под именем `EYInterstate`. Если шрифт нужно заменить — поменяйте пути к файлам в соответствующих блоках `@font-face`.

## Что можно улучшить дальше

- Добавить соцсети (Telegram, WhatsApp, LinkedIn) + иконки
- Экспорт в PNG/PDF «красивого» вида карточки для печати
- Загрузка данных из `colleagues.json` вместо правки кода
- Группировка по отделам и быстрые фильтры

## Логотип EY внутри QR

На странице визитки логотип накладывается поверх QR по центру, с белой подложкой и повышенной коррекцией ошибок (H), чтобы QR стабильно сканировался.

- Путь к логотипу: `assets/brand/EY_Logo_Beam_RGB-OffBlack-Yellow.png`
- Если файла нет — используется плейсхолдер `assets/brand/ey_logo_placeholder.svg`
- Рекомендации:
  - Прозрачный фон PNG, размер 240–512px по большей стороне
  - Логотип занимать ~20–25% ширины QR (настроено ~22%)
  - Стараться избегать слишком тёмных «плашек» вокруг, чтобы не мешать матрицам QR

Если нужно — помогу под вашу бренд‑айдентику (цвета, шрифты, логотип, сетка) и наполню реальными данными.

## Пошагово: деплой API на Render

В папке `server/` уже лежит минимальный Node/Express API:

- `server/index.js` — код API
- `server/package.json` — зависимости и команда запуска

Что делает API:
- `GET /api/colleagues` — возвращает содержимое `assets/colleagues.json`
- `GET /api/colleagues/:id` — возвращает одну запись по id

Как задеплоить:
1) Создайте публичный репозиторий на GitHub и загрузите весь проект.
2) Зайдите на render.com → New → Web Service.
3) Подключите ваш репо, выберите корневую папку проекта.
4) Настройки:
   - Environment: Node
   - Build Command: (пусто)
   - Start Command: `cd server && npm install && npm start`
   - Root Directory: корень репозитория
   - Region: EU/US по желанию
5) Нажмите Create Web Service и дождитесь деплоя. В логах появится `API listening on <PORT>`.

URL сервиса будет вроде `https://your-service.onrender.com`. Проверьте:
- `https://your-service.onrender.com/api/colleagues`
- `https://your-service.onrender.com/api/colleagues/Kamilya`

Если хотите редактировать данные на бэке — замените чтение файла на базу (например, Render + PostgreSQL) или подключите Google Sheets/Airtable через мелкий адаптер.

## Фронт на Tilda

Вариант 1 — iframe:
- Залейте статические файлы (index.html, card.html, assets/*) на любой хостинг (GitHub Pages, Cloudflare Pages).
- В Tilda добавьте блок с iframe и укажите URL `index.html` вашего хостинга.

Вариант 2 — HTML‑блоки:
- Создайте страницу списка и вложите разметку из `index.html` в HTML‑блок (без `<html>`, `<body>`), стили и скрипты — содержимое `assets/styles.css` и `assets/app.js` внутрь `<style>`/`<script>`.
- Для детальной карточки создайте вторую страницу и аналогично вставьте из `card.html` и `assets/card.js`.
- В `assets/app.js` и `assets/card.js` замените пути загрузки на ваш Render API:
  - `fetch('assets/colleagues.json')` → `fetch('https://your-service.onrender.com/api/colleagues')`
  - И в карточке: `.../colleagues/<id>`
